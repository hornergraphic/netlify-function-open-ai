<html>
  <head>
  </head>
  <body>
    <a id="button">Test Function</a>
  </body>
  <script>
    async function testFunction( event ) {
        console.log( "testFunction fired");
        
        // Prevent form submit
        event.preventDefault()

        // API Endpoint
        const url = "/.netlify/functions/test-function";
        const data = '';

        fetch( url , {
          method:"POST",
          body:JSON.stringify({data})
        })
          .then(response => {
            if(!response.ok) {
              throw new Error('Network response was not ok');
            }
            return response.json();
          })

        .then(json => {
          console.log(json);
        })
        .catch(error => { console.error(error); });
      }

    document.querySelector("#button").addEventListener("submit", testFunction)
  </script>
</html>
